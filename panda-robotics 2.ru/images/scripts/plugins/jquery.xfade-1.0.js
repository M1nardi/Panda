function removeFilter(e){e.style.removeAttribute&&e.style.removeAttribute("filter")}!function(e){var t=[],n=[];e.fn.xfade=function(s){return this.each(function(r){n.push(e(this)),t[r]={container:null,settings:{effect:"fade",speed:"normal",order:"sequence",timeout:2e3,height:"auto",containerClass:!1,children:!1,onBefore:!1},timeout:200,current:1,last:0,init:function(t,n){var s=this;s.container=t,n&&e.extend(s.settings,n);var r=s.items();if(r.length>1){e(s.container).css({position:"relative",height:s.settings.height}),s.settings.containerClass&&e(s.container).addClass(s.settings.containerClass);for(var i=0;i<r.length;i++)e(r[i]).css("z-index",String(r.length-i)).css("position","absolute").hide();if("sequence"==s.settings.order)s.onBefore(0,null,e(r[0]),null,r),s.timeout=setTimeout(function(){s.next()},s.settings.timeout),e(r[s.last]).show();else if("random"==s.settings.order){s.last=Math.floor(Math.random()*r.length);do s.current=Math.floor(Math.random()*r.length);while(s.last==s.current);s.onBefore(s.current,s.last,e(r[s.current]),e(r[s.last]),r),s.timeout=setTimeout(function(){s.next()},s.settings.timeout),e(r[s.current]).show()}else"random-start"==s.settings.order?(s.settings.order="sequence",s.current=Math.floor(Math.random()*r.length),s.onBefore(s.current,s.last,e(r[s.current]),e(r[s.last]),r),s.timeout=setTimeout(function(){s.next()},s.settings.timeout),e(r[s.current]).show()):alert("xfade:order must either be 'sequence', 'random' or 'random-start'")}},items:function(){var t=this;return t.settings.children?e(t.container).children():e(t.container).children(t.settings.children)},next:function(){var t=this,n=t.items();if(t.onBefore(t.current,t.last,e(n[t.current]),e(n[t.last]),n),"slide"==t.settings.effect?(e(n[t.last]).slideUp(t.settings.speed),e(n[t.current]).slideDown(t.settings.speed)):"fade"==t.settings.effect?(e(n[t.last]).fadeOut(t.settings.speed),e(n[t.current]).fadeIn(t.settings.speed,function(){removeFilter(e(this)[0])})):alert("xfade:effect must either be 'slide' or 'fade'"),"sequence"==t.settings.order)t.current+1<n.length?(t.current+=1,t.last=t.current-1):(t.current=0,t.last=n.length-1);else if("random"==t.settings.order)for(t.last=t.current;t.current==t.last;)t.current=Math.floor(Math.random()*n.length);else alert("xfade:order must either be 'sequence', 'random' or 'random-start'");t.timeout=setTimeout(function(){t.next(n)},t.settings.timeout)},to:function(t){var n=this;if("object"==typeof t&&t.jquery){if(0==t.length)return!1;e.each(n.items(),function(n){e(this)[0]==t[0]&&(t=n)})}e.each(n.items(),function(){"none"!=e(this).css("display")&&e(this).fadeOut()}),clearTimeout(n.timeout),n.current=t,n.next()},refresh:function(){var t=this,n=t.items();e.each(n,function(s){e(this).css({"z-index":String(n.length-s),position:"absolute"}),s!=t.last&&e(this).css({display:"none"})})},onBefore:function(e,t,n,s,r){var i=this;"function"==typeof i.settings.onBefore&&i.settings.onBefore(e,t,n,s,r)}},t[r].init(this,s)})},e.xfadeInstance=function(s){var r=0;do{if(e(n[r]).get(0)==e(s).get(0))return t[r];r++}while(r<n.length-1);return!1},e.fn.xfadeNext=function(){var t=e.xfadeInstance(this);t&&t.next()},e.fn.xfadeTo=function(t){var n=e.xfadeInstance(this);n&&n.to(t)},e.fn.xfadeRefresh=function(t){var n=e.xfadeInstance(this);n&&n.refresh(t)}}(jQuery);